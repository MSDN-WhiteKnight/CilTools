<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class MemoryImage
   | CIL Tools </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class MemoryImage
   | CIL Tools ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="CilTools.Reflection.MemoryImage">
  
  
  <h1 id="CilTools_Reflection_MemoryImage" data-uid="CilTools.Reflection.MemoryImage" class="text-break">Class MemoryImage
  </h1>
  <div class="markdown level0 summary"><p>Represents a Portable Executable (PE) image stored in memory</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">MemoryImage</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <span class="xref">System.Object.ToString()</span>
    </div>
    <div>
      <span class="xref">System.Object.Equals(System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.Equals(System.Object, System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.ReferenceEquals(System.Object, System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.GetHashCode()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetType()</span>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="CilTools.Reflection.html">CilTools.Reflection</a></h6>
  <h6><strong>Assembly</strong>: CilTools.BytecodeAnalysis.dll</h6>
  <h5 id="CilTools_Reflection_MemoryImage_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class MemoryImage</code></pre>
  </div>
  <h5 id="CilTools_Reflection_MemoryImage_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>This class provides the centalized mechanism for storing and passing PE images loaded into memory within the CIL Tools
suite. It does not implement any logic for loading and processing of images, this is provided by other APIs.
The <code>CilTools.Runtime.ClrAssemblyReader.GetMemoryImage</code> method loads the PE image from the address space of
the external .NET process.
The <code>CilTools.Metadata.AssemblyReader.LoadImage</code> method is used to inspect memory images.</p>
</div>
  <h3 id="constructors">Constructors
  </h3>
  
  
  <a id="CilTools_Reflection_MemoryImage__ctor_" data-uid="CilTools.Reflection.MemoryImage.#ctor*"></a>
  <h4 id="CilTools_Reflection_MemoryImage__ctor_System_Byte___System_String_System_Boolean_" data-uid="CilTools.Reflection.MemoryImage.#ctor(System.Byte[],System.String,System.Boolean)">MemoryImage(Byte[], String, Boolean)</h4>
  <div class="markdown level1 summary"><p>Creates a new instance of the <code>MemoryImage</code> class using the specified byte array</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public MemoryImage(byte[] image, string filepath, bool isFileLayout)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Byte</span>[]</td>
        <td><span class="parametername">image</span></td>
        <td><p>The byte array with PE image contents</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">filepath</span></td>
        <td><p>The path of the file where this image data was loaded from (could be an empty string)</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">isFileLayout</span></td>
        <td><p>The value indicating that this image is a raw PE file data, rather than an image modified
by the OS loader.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="CilTools_Reflection_MemoryImage__ctor_System_Byte___System_String_System_Boolean__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The <code data-dev-comment-type="paramref" class="paramref">filepath</code> parameter is optional and used only to identify this image, for example, 
for caching purposes. You could pass null or an empty string if you don&apos;t want to specify it.</p>
<p>Set the <code data-dev-comment-type="paramref" class="paramref">isFileLayout</code> parameter to <code>true</code> if this image was loaded by 
directly reading raw data from a file. If the image was obtained by reading the address space of some process 
and it contains PE data modified by operating system (OS) loader, set the value of this parameter to <code>false</code>. 
The OS loader modifies the contents of PE image when loading it for execution (for example, when the image was 
passed to the <code>LoadLibrary</code> Windows API function): it recalculates absolute addresses if the actual base address 
is different from image base this file was compiled with, extends sections with padding, etc. The 
<code data-dev-comment-type="paramref" class="paramref">isFileLayout</code> enables to take these modifications into account when parsing the image.
</p>
</div>
  <h3 id="properties">Properties
  </h3>
  
  
  <a id="CilTools_Reflection_MemoryImage_FilePath_" data-uid="CilTools.Reflection.MemoryImage.FilePath*"></a>
  <h4 id="CilTools_Reflection_MemoryImage_FilePath" data-uid="CilTools.Reflection.MemoryImage.FilePath">FilePath</h4>
  <div class="markdown level1 summary"><p>Gets the path of the file where this image was loaded from (could be an empty string)</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string FilePath { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="CilTools_Reflection_MemoryImage_Image_" data-uid="CilTools.Reflection.MemoryImage.Image*"></a>
  <h4 id="CilTools_Reflection_MemoryImage_Image" data-uid="CilTools.Reflection.MemoryImage.Image">Image</h4>
  <div class="markdown level1 summary"><p>Gets the byte array with the image data</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public byte[] Image { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Byte</span>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="CilTools_Reflection_MemoryImage_IsFileLayout_" data-uid="CilTools.Reflection.MemoryImage.IsFileLayout*"></a>
  <h4 id="CilTools_Reflection_MemoryImage_IsFileLayout" data-uid="CilTools.Reflection.MemoryImage.IsFileLayout">IsFileLayout</h4>
  <div class="markdown level1 summary"><p>Gets the value indicating that this image is a raw PE file data, rather than an image modified
by the OS loader.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool IsFileLayout { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="CilTools_Reflection_MemoryImage_Size_" data-uid="CilTools.Reflection.MemoryImage.Size*"></a>
  <h4 id="CilTools_Reflection_MemoryImage_Size" data-uid="CilTools.Reflection.MemoryImage.Size">Size</h4>
  <div class="markdown level1 summary"><p>Gets the size of this image, in bytes</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Size { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  
  
  <a id="CilTools_Reflection_MemoryImage_GetStream_" data-uid="CilTools.Reflection.MemoryImage.GetStream*"></a>
  <h4 id="CilTools_Reflection_MemoryImage_GetStream" data-uid="CilTools.Reflection.MemoryImage.GetStream">GetStream()</h4>
  <div class="markdown level1 summary"><p>Gets the stream that can be used to read the data of this image</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Stream GetStream()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.IO.Stream</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>CIL Tools (published from sources in <a href="https://github.com/MSDN-WhiteKnight/CilTools">GitHub repository</a>).<br>Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
